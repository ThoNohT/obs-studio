project(automation)

if(WIN32)
	set(automation_PLATFORM_DEPS
		ws2_32
		winmm)
endif()

if(MSVC)
	set(automation_PLATFORM_DEPS
		${automation_PLATFORM_DEPS}
		w32-pthreads)
endif()

set(automation_SOURCES
	automation.cpp
	automation-handler.cpp
	automation-settings.cpp)

set(automation_HEADERS
	automation-handler.hpp
	automation-settings.hpp)

add_library(automation MODULE
	${automation_SOURCES}
	${automation_HEADERS})

target_link_libraries(automation
		libobs
		${automation_PLATFORM_DEPS})

install_obs_plugin_with_data(automation data)
